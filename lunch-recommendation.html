<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµ¬ë‚´ì‹ë‹¹ ì§ì¥ì¸ì„ ìœ„í•œ ì ì‹¬ ì¶”ì²œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
        
        /* ë£°ë › ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .roulette-spinning {
            animation: spin 0.1s linear infinite;
        }
        
        /* í˜ì´ë“œì¸ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        /* ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ ìŠ¤íƒ€ì¼ */
        .upload-area {
            border: 3px dashed #cbd5e0;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            border-color: #667eea;
            background-color: #f7fafc;
        }
        
        .upload-area.drag-over {
            border-color: #667eea;
            background-color: #edf2f7;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-600 via-pink-500 to-orange-500 min-h-screen">
    <div id="app" class="container mx-auto px-4 py-8 max-w-4xl">
        
        <!-- 1. ìœ„ì¹˜ ì •ë³´ ìš”ì²­ í™”ë©´ -->
        <div id="locationScreen" class="fade-in">
            <div class="bg-white rounded-3xl shadow-2xl p-8 text-center">
                <div class="mb-6">
                    <svg class="w-24 h-24 mx-auto text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </div>
                <h1 class="text-3xl font-bold text-gray-800 mb-4">ğŸ½ï¸ êµ¬ë‚´ì‹ë‹¹ ì§ì¥ì¸ ì ì‹¬ ì¶”ì²œ</h1>
                <p class="text-gray-600 mb-8">ë‚ ì”¨ ê¸°ë°˜ ë§ì¶¤ ë©”ë‰´ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.<br>ìœ„ì¹˜ ì •ë³´ë¥¼ í—ˆìš©í•´ì£¼ì„¸ìš”.</p>
                <button onclick="requestLocation()" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all">
                    ìœ„ì¹˜ ì •ë³´ í—ˆìš©í•˜ê¸°
                </button>
                <div id="locationError" class="mt-4 text-red-500 hidden"></div>
            </div>
        </div>

        <!-- 2. ì‹ë‹¨í‘œ ì…ë ¥ í™”ë©´ -->
        <div id="menuInputScreen" class="hidden fade-in">
            <div class="bg-white rounded-3xl shadow-2xl p-8">
                <!-- ë‚ ì”¨ ì •ë³´ í‘œì‹œ -->
                <div id="weatherInfo" class="mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <span id="weatherIcon" class="text-4xl mr-3">â˜€ï¸</span>
                            <div>
                                <p class="text-sm text-gray-600">í˜„ì¬ ìœ„ì¹˜</p>
                                <p id="locationName" class="font-semibold text-gray-800">ì„œìš¸</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p id="temperature" class="text-2xl font-bold text-gray-800">23Â°C</p>
                            <p id="weatherDesc" class="text-sm text-gray-600">ë§‘ìŒ</p>
                        </div>
                    </div>
                </div>

                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">ì˜¤ëŠ˜ì˜ êµ¬ë‚´ì‹ë‹¹ ë©”ë‰´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
                
                <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜ì—­ -->
                <div class="mb-6">
                    <label class="block text-gray-700 font-semibold mb-2">ğŸ“¸ ì‹ë‹¨í‘œ ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
                    <div id="imageUploadArea" class="upload-area rounded-xl p-8 text-center cursor-pointer">
                        <input type="file" id="menuImageInput" accept="image/*" class="hidden">
                        <svg class="w-16 h-16 mx-auto text-gray-400 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        <p class="text-gray-600">í´ë¦­í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ì„¸ìš”</p>
                        <p class="text-sm text-gray-400 mt-2">JPG, PNG íŒŒì¼ (ìµœëŒ€ 5MB)</p>
                    </div>
                    <div id="imagePreview" class="mt-4 hidden">
                        <img id="previewImg" class="rounded-xl max-h-64 mx-auto shadow-lg">
                    </div>
                </div>

                <div class="text-center my-4 text-gray-500 font-semibold">ë˜ëŠ”</div>

                <!-- í…ìŠ¤íŠ¸ ì…ë ¥ ì˜ì—­ -->
                <div class="mb-6">
                    <label class="block text-gray-700 font-semibold mb-2">âœï¸ ê¸ˆì¼ ë©”ë‰´ í…ìŠ¤íŠ¸ ì…ë ¥</label>
                    <textarea id="menuTextInput" rows="4" placeholder="ì˜ˆ: ê¹€ì¹˜ì°Œê°œ, ëœì¥ì°Œê°œ, ë¶ˆê³ ê¸° ë®ë°¥" class="w-full border-2 border-gray-300 rounded-xl p-4 focus:border-purple-500 focus:outline-none"></textarea>
                </div>

                <button onclick="submitMenu()" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-full text-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all">
                    ë©”ë‰´ ì¶”ì²œë°›ê¸° ğŸ¯
                </button>
            </div>
        </div>

        <!-- 3. AI ì¶”ì²œ ê²°ê³¼ í™”ë©´ -->
        <div id="recommendationScreen" class="hidden fade-in">
            <div class="bg-white rounded-3xl shadow-2xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-2 text-center">AIê°€ ì¶”ì²œí•˜ëŠ” ì˜¤ëŠ˜ì˜ ë©”ë‰´</h2>
                <p class="text-center text-gray-600 mb-6">êµ¬ë‚´ì‹ë‹¹ ë©”ë‰´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ 3ê°€ì§€ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤</p>
                
                <div id="recommendedMenus" class="space-y-4 mb-6">
                    <!-- ì¶”ì²œ ë©”ë‰´ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>

                <div class="flex gap-4">
                    <button onclick="showRouletteScreen()" class="flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white py-4 rounded-full text-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all">
                        ğŸ° ë£°ë ›ìœ¼ë¡œ ê²°ì •í•˜ê¸°
                    </button>
                    <button onclick="backToMenuInput()" class="px-6 py-4 border-2 border-gray-300 rounded-full text-gray-700 font-semibold hover:bg-gray-50 transition-all">
                        ë‹¤ì‹œ ì…ë ¥
                    </button>
                </div>
            </div>
        </div>

        <!-- 4. ë£°ë › í™”ë©´ -->
        <div id="rouletteScreen" class="hidden fade-in">
            <div class="bg-white rounded-3xl shadow-2xl p-8 text-center">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">ğŸ° ë©”ë‰´ ë£°ë ›</h2>
                
                <div class="relative mb-8">
                    <div id="rouletteWheel" class="w-64 h-64 mx-auto bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 rounded-full flex items-center justify-center shadow-2xl">
                        <div id="rouletteText" class="text-white text-2xl font-bold text-center px-6">
                            ì‹œì‘í•˜ê¸°
                        </div>
                    </div>
                    <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-4">
                        <div class="w-0 h-0 border-l-8 border-r-8 border-t-8 border-l-transparent border-r-transparent border-t-red-600"></div>
                    </div>
                </div>

                <button id="spinButton" onclick="spinRoulette()" class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:shadow-lg transform hover:scale-105 transition-all mb-4">
                    ë£°ë › ëŒë¦¬ê¸°!
                </button>
                
                <button onclick="showRecommendationScreen()" class="text-gray-600 hover:text-gray-800 underline">
                    ì¶”ì²œ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </button>
            </div>
        </div>

        <!-- 5. ì‹ë‹¹ ë¦¬ìŠ¤íŠ¸ í™”ë©´ -->
        <div id="restaurantScreen" class="hidden fade-in">
            <div class="bg-white rounded-3xl shadow-2xl p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-2 text-center">ê·¼ì²˜ ì‹ë‹¹ ì°¾ê¸°</h2>
                <p id="selectedMenuName" class="text-center text-gray-600 mb-6"></p>
                
                <!-- ì¹´ì¹´ì˜¤ë§µ í‘œì‹œ ì˜ì—­ -->
                <div id="map" class="w-full h-80 rounded-xl mb-6 bg-gray-200"></div>
                
                <!-- ì‹ë‹¹ ë¦¬ìŠ¤íŠ¸ -->
                <div id="restaurantList" class="space-y-3">
                    <!-- ì‹ë‹¹ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>

                <button onclick="showRecommendationScreen()" class="w-full mt-6 py-3 border-2 border-gray-300 rounded-full text-gray-700 font-semibold hover:bg-gray-50 transition-all">
                    ë‹¤ë¥¸ ë©”ë‰´ ì„ íƒí•˜ê¸°
                </button>
            </div>
        </div>

        <!-- ë¡œë”© í™”ë©´ -->
        <div id="loadingScreen" class="hidden">
            <div class="bg-white rounded-3xl shadow-2xl p-12 text-center">
                <div class="animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4"></div>
                <p class="text-gray-700 text-xl font-semibold">AIê°€ ë©”ë‰´ë¥¼ ì¶”ì²œí•˜ê³  ìˆì–´ìš”...</p>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let userLocation = { lat: 37.5665, lng: 126.9780 }; // ê¸°ë³¸ê°’: ì„œìš¸
        let currentMenus = [];
        let selectedMenu = '';
        let cafeteriaMenu = '';
        
        // í™”ë©´ ì „í™˜ í•¨ìˆ˜ë“¤
        function showScreen(screenId) {
            const screens = ['locationScreen', 'menuInputScreen', 'recommendationScreen', 'rouletteScreen', 'restaurantScreen', 'loadingScreen'];
            screens.forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            document.getElementById(screenId).classList.remove('hidden');
        }

        // 1. ìœ„ì¹˜ ì •ë³´ ìš”ì²­
        function requestLocation() {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    async (position) => {
                        userLocation.lat = position.coords.latitude;
                        userLocation.lng = position.coords.longitude;
                        await fetchWeatherInfo();
                        showScreen('menuInputScreen');
                    },
                    (error) => {
                        document.getElementById('locationError').textContent = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê¸°ë³¸ ìœ„ì¹˜(ì„œìš¸)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.';
                        document.getElementById('locationError').classList.remove('hidden');
                        setTimeout(() => {
                            fetchWeatherInfo();
                            showScreen('menuInputScreen');
                        }, 2000);
                    }
                );
            } else {
                alert('ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                fetchWeatherInfo();
                showScreen('menuInputScreen');
            }
        }

        // ë‚ ì”¨ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (ì‹¤ì œë¡œëŠ” ë°±ì—”ë“œ API í˜¸ì¶œ)
        async function fetchWeatherInfo() {
            // ì‹¤ì œ êµ¬í˜„ì‹œ ë°±ì—”ë“œ API í˜¸ì¶œ
            // const response = await fetch(`/api/weather?lat=${userLocation.lat}&lng=${userLocation.lng}`);
            // const data = await response.json();
            
            // ì„ì‹œ ë°ì´í„°
            const weatherData = {
                location: 'ì„œìš¸ ê°•ë‚¨êµ¬',
                temperature: 23,
                description: 'ë§‘ìŒ',
                icon: 'â˜€ï¸'
            };
            
            document.getElementById('locationName').textContent = weatherData.location;
            document.getElementById('temperature').textContent = `${weatherData.temperature}Â°C`;
            document.getElementById('weatherDesc').textContent = weatherData.description;
            document.getElementById('weatherIcon').textContent = weatherData.icon;
        }

        // 2. ì´ë¯¸ì§€ ì—…ë¡œë“œ ì²˜ë¦¬
        const imageUploadArea = document.getElementById('imageUploadArea');
        const menuImageInput = document.getElementById('menuImageInput');
        const imagePreview = document.getElementById('imagePreview');
        const previewImg = document.getElementById('previewImg');

        imageUploadArea.addEventListener('click', () => menuImageInput.click());

        imageUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            imageUploadArea.classList.add('drag-over');
        });

        imageUploadArea.addEventListener('dragleave', () => {
            imageUploadArea.classList.remove('drag-over');
        });

        imageUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            imageUploadArea.classList.remove('drag-over');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleImageUpload(files[0]);
            }
        });

        menuImageInput.addEventListener('change', (e) => {
            if (e.target.files.length > 0) {
                handleImageUpload(e.target.files[0]);
            }
        });

        function handleImageUpload(file) {
            if (file.size > 5 * 1024 * 1024) {
                alert('íŒŒì¼ í¬ê¸°ëŠ” 5MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = (e) => {
                previewImg.src = e.target.result;
                imagePreview.classList.remove('hidden');
                // í…ìŠ¤íŠ¸ ì…ë ¥ ë¹„í™œì„±í™”
                document.getElementById('menuTextInput').disabled = true;
                document.getElementById('menuTextInput').classList.add('bg-gray-100');
            };
            reader.readAsDataURL(file);
        }

        // 3. ë©”ë‰´ ì œì¶œ ë° AI ì¶”ì²œ ë°›ê¸°
        async function submitMenu() {
            const menuText = document.getElementById('menuTextInput').value;
            const hasImage = !imagePreview.classList.contains('hidden');
            
            if (!menuText && !hasImage) {
                alert('ì‹ë‹¨í‘œ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ê±°ë‚˜ ë©”ë‰´ë¥¼ í…ìŠ¤íŠ¸ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            cafeteriaMenu = menuText || 'ì´ë¯¸ì§€ë¡œ ì—…ë¡œë“œëœ ë©”ë‰´';
            
            showScreen('loadingScreen');
            
            // ì‹¤ì œ êµ¬í˜„ì‹œ ë°±ì—”ë“œ AI API í˜¸ì¶œ
            // const formData = new FormData();
            // if (hasImage) formData.append('image', menuImageInput.files[0]);
            // formData.append('menu_text', menuText);
            // formData.append('location', JSON.stringify(userLocation));
            // const response = await fetch('/api/recommend', { method: 'POST', body: formData });
            // const data = await response.json();
            
            // ì„ì‹œ ë°ì´í„° (AI ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜)
            setTimeout(() => {
                currentMenus = [
                    {
                        name: 'ê°ˆë¹„íƒ•',
                        category: 'ìƒìœ„í˜¸í™˜',
                        description: 'êµ¬ë‚´ì‹ë‹¹ì˜ ê¹€ì¹˜ì°Œê°œë³´ë‹¤ ê¹Šê³  ì§„í•œ ìœ¡ìˆ˜ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆëŠ” í”„ë¦¬ë¯¸ì—„ ë©”ë‰´ì…ë‹ˆë‹¤.',
                        reason: 'ë”°ëœ»í•œ êµ­ë¬¼ ìš”ë¦¬ë¡œ ë¹„ìŠ·í•˜ì§€ë§Œ ë” ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë§›'
                    },
                    {
                        name: 'ìŠ¤ì‹œ ì˜¤ë§ˆì¹´ì„¸',
                        category: 'ë¹„ìŠ·í•œ ì¹´í…Œê³ ë¦¬',
                        description: 'í•œì‹ê³¼ëŠ” ë‹¤ë¥¸ ì¼ì‹ìœ¼ë¡œ, ì‹ ì„ í•œ ì‹ì¬ë£Œì˜ ë³¸ì—°ì˜ ë§›ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                        reason: 'ì‹ì‚¬ì˜ ë§Œì¡±ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ì•„ì‹œì•„ ìš”ë¦¬'
                    },
                    {
                        name: 'ì‹œì›í•œ ëƒ‰íŒŒìŠ¤íƒ€',
                        category: 'ë‚ ì”¨ ê¸°ë°˜ ì¶”ì²œ',
                        description: 'ë§‘ê³  ë”°ëœ»í•œ ë‚ ì”¨ì— ì–´ìš¸ë¦¬ëŠ” ìƒí¼í•˜ê³  ì‹œì›í•œ ì–‘ì‹ ë©”ë‰´ì…ë‹ˆë‹¤.',
                        reason: 'ì˜¤ëŠ˜ ê°™ì€ ë‚ ì”¨ì—ëŠ” ì‹œì›í•œ ìŒì‹ì´ ì œê²©!'
                    }
                ];
                
                displayRecommendations();
                showScreen('recommendationScreen');
            }, 2000);
        }

        // ì¶”ì²œ ë©”ë‰´ í™”ë©´ì— í‘œì‹œ
        function displayRecommendations() {
            const container = document.getElementById('recommendedMenus');
            container.innerHTML = '';
            
            const colors = ['from-red-400 to-pink-500', 'from-blue-400 to-purple-500', 'from-green-400 to-teal-500'];
            
            currentMenus.forEach((menu, index) => {
                const menuCard = document.createElement('div');
                menuCard.className = `bg-gradient-to-r ${colors[index]} rounded-2xl p-6 cursor-pointer transform hover:scale-105 transition-all shadow-lg`;
                menuCard.onclick = () => selectMenu(menu.name);
                
                menuCard.innerHTML = `
                    <div class="flex items-start justify-between mb-2">
                        <h3 class="text-2xl font-bold text-white">${menu.name}</h3>
                        <span class="bg-white bg-opacity-30 text-white text-xs px-3 py-1 rounded-full">${menu.category}</span>
                    </div>
                    <p class="text-white text-opacity-90 mb-2">${menu.description}</p>
                    <p class="text-white text-sm">ğŸ’¡ ${menu.reason}</p>
                `;
                
                container.appendChild(menuCard);
            });
        }

        // ë©”ë‰´ ì„ íƒ ì²˜ë¦¬
        function selectMenu(menuName) {
            selectedMenu = menuName;
            showRestaurants();
        }

        // 4. ë£°ë › í™”ë©´ í‘œì‹œ
        function showRouletteScreen() {
            document.getElementById('rouletteText').textContent = 'ì‹œì‘í•˜ê¸°';
            document.getElementById('spinButton').disabled = false;
            showScreen('rouletteScreen');
        }

        function showRecommendationScreen() {
            showScreen('recommendationScreen');
        }

        // ë£°ë › ëŒë¦¬ê¸°
        function spinRoulette() {
            const rouletteWheel = document.getElementById('rouletteWheel');
            const rouletteText = document.getElementById('rouletteText');
            const spinButton = document.getElementById('spinButton');
            
            spinButton.disabled = true;
            rouletteWheel.classList.add('roulette-spinning');
            
            let count = 0;
            const interval = setInterval(() => {
                rouletteText.textContent = currentMenus[count % currentMenus.length].name;
                count++;
            }, 100);
            
            setTimeout(() => {
                clearInterval(interval);
                rouletteWheel.classList.remove('roulette-spinning');
                
                const finalIndex = Math.floor(Math.random() * currentMenus.length);
                selectedMenu = currentMenus[finalIndex].name;
                rouletteText.textContent = selectedMenu;
                
                setTimeout(() => {
                    showRestaurants();
                }, 1500);
            }, 3000);
        }

        // 5. ì‹ë‹¹ ì°¾ê¸° í™”ë©´ í‘œì‹œ
        function showRestaurants() {
            document.getElementById('selectedMenuName').textContent = `"${selectedMenu}" ì „ë¬¸ ì‹ë‹¹`;
            
            // ì¹´ì¹´ì˜¤ë§µ ì´ˆê¸°í™” (ì‹¤ì œë¡œëŠ” ì¹´ì¹´ì˜¤ë§µ API í•„ìš”)
            const mapDiv = document.getElementById('map');
            mapDiv.innerHTML = `
                <div class="w-full h-full flex items-center justify-center text-gray-500">
                    <div class="text-center">
                        <p class="text-lg font-semibold mb-2">ğŸ—ºï¸ ì§€ë„ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</p>
                        <p class="text-sm">ì¹´ì¹´ì˜¤ë§µ APIë¥¼ ì—°ë™í•˜ë©´ ì‹¤ì œ ì§€ë„ê°€ í‘œì‹œë©ë‹ˆë‹¤</p>
                    </div>
                </div>
            `;
            
            // ì‹ë‹¹ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ (ì‹¤ì œë¡œëŠ” ì¹´ì¹´ì˜¤ë§µ APIë¡œ ê²€ìƒ‰)
            const restaurantList = document.getElementById('restaurantList');
            restaurantList.innerHTML = '';
            
            // ì„ì‹œ ë°ì´í„°
            const restaurants = [
                { name: `${selectedMenu} ì „ë¬¸ì `, distance: '250m', rating: 4.5, reviews: 128 },
                { name: `ë§›ìˆëŠ” ${selectedMenu}`, distance: '380m', rating: 4.3, reviews: 95 },
                { name: `${selectedMenu} ë§›ì§‘`, distance: '520m', rating: 4.7, reviews: 203 },
                { name: `ì „í†µ ${selectedMenu}`, distance: '650m', rating: 4.4, reviews: 156 },
            ];
            
            restaurants.forEach(restaurant => {
                const restaurantCard = document.createElement('div');
                restaurantCard.className = 'border-2 border-gray-200 rounded-xl p-4 hover:border-purple-500 hover:shadow-md transition-all cursor-pointer';
                
                restaurantCard.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-bold text-lg text-gray-800">${restaurant.name}</h3>
                            <p class="text-gray-600 text-sm mt-1">ğŸ“ ${restaurant.distance} â€¢ â­ ${restaurant.rating} (${restaurant.reviews})</p>
                        </div>
                        <button class="bg-purple-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-purple-700">
                            ê¸¸ì°¾ê¸°
                        </button>
                    </div>
                `;
                
                restaurantList.appendChild(restaurantCard);
            });
            
            showScreen('restaurantScreen');
        }

        // ë©”ë‰´ ì…ë ¥ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function backToMenuInput() {
            // ì…ë ¥ ë‚´ìš© ì´ˆê¸°í™”
            document.getElementById('menuTextInput').value = '';
            document.getElementById('menuTextInput').disabled = false;
            document.getElementById('menuTextInput').classList.remove('bg-gray-100');
            menuImageInput.value = '';
            imagePreview.classList.add('hidden');
            
            showScreen('menuInputScreen');
        }

        // ì•± ì‹œì‘
        window.onload = () => {
            showScreen('locationScreen');
        };
    </script>
</body>
</html>


